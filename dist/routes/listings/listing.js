import express from 'express';
import catchAsync from '../../utils/catchAsync.js.js';
import { postListing, uploadListingMedia } from '../../controllers/listing.js.js';
import multer from 'multer';
import { storage } from '../../middlewares/preUpload.js.js';
const router = express.Router();
const upload = multer();
const media = multer({ storage });
router.post("/post", upload.none(), catchAsync(postListing));
router.post("/uploadMedia", media.array('images'), catchAsync(uploadListingMedia));
export default router;
